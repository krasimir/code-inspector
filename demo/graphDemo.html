<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>code-inspector</title>
  <style>
    * {
      box-sizing: border-box;
    }
    pre {
      width: 100%;
      height: 600px;
      resize: none;
      overflow: scroll;
    }
    .container {
      display: grid;
      grid-template-columns: 40% 60%;
    }
    .container > div {
      border-top: solid 1px #999;
    }
    .container > div + div {
      border-left: solid 1px #999;
      padding: 1em;
    }
    section {
      white-space: pre;
      overflow: scroll;
    }
  </style>
  <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({
      securityLevel: 'loose',
      theme: 'forest',
      flowchart: {
        useMaxWidth: true,
        htmlLabels: false,
      },
    });
  </script>
</head>
<body>
  <p>This demo is generated by <code>src/__tests__/graph.spec.ts</code> file.</p>
  <div class="container">
    <div>
      <pre class="js">const ANSWER = 42;
function test(value) {
  return value ? ANSWER : null;
}

function foobar() {
  const ANSWER = 100;
  const x = ANSWER * 2;
  console.log(ANSWER);
}

if (ANSWER === 42) {
  test('no');
} else {
  test('yes');
}
</pre>
      <section class="preview-in-mermaid">graph LR
FunctionDeclaration-2:1-4:2("test()")
ReturnStatement-3:3-3:32>"← value?"]
ConditionalExpression-3:10-3:31{"value?"}
FunctionDeclaration-6:1-10:2("foobar()")
IfStatement-12:1-16:2{"if (ANSWER === 42)"}
FunctionDeclaration-2:1-4:2("test()") --- ReturnStatement-3:3-3:32>"← value?"]
ReturnStatement-3:3-3:32>"← value?"] --- ConditionalExpression-3:10-3:31{"value?"}</section>
    </div>
    <div class="mermaid">graph LR
FunctionDeclaration-2:1-4:2("test()")
ReturnStatement-3:3-3:32>"← value?"]
ConditionalExpression-3:10-3:31{"value?"}
FunctionDeclaration-6:1-10:2("foobar()")
IfStatement-12:1-16:2{"if (ANSWER === 42)"}
FunctionDeclaration-2:1-4:2("test()") --- ReturnStatement-3:3-3:32>"← value?"]
ReturnStatement-3:3-3:32>"← value?"] --- ConditionalExpression-3:10-3:31{"value?"}</div>
  <script src="../browser/code-inspector.js"></script>
</body>
</html>